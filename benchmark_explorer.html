<!DOCTYPE html>
<html lang="en">
<head>
    <script>
      // Block HubSpot from loading if in iframe (run ASAP in head)
      if (window.self !== window.top) {
        // Intercept HubSpot's global object before it loads
        window.hsConversationsSettings = { loadImmediately: false };
        window.hsConversationsOnReady = [];
        // Block the loader
        Object.defineProperty(window, 'HubSpotConversations', {
          get: function() { return { widget: { load: function(){}, remove: function(){} } }; },
          set: function() {}
        });
      }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bench2Cost Interactive Benchmark Explorer</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        :root {
            --bg-primary: #0D1117;
            --bg-secondary: #161B22;
            --bg-card: #21262D;
            --text-primary: #E6EDF3;
            --text-secondary: #8B949E;
            --border-color: #30363D;
            --accent: #58A6FF;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0.5rem;
            box-sizing: border-box;
        }
        
        h1 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.15rem;
            background: linear-gradient(135deg, #FF6B35, #F7931E);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            font-size: 0.8rem;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            background: var(--bg-secondary);
            border-radius: 6px;
            border: 1px solid var(--border-color);
            align-items: center;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .control-group label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            font-weight: 500;
            white-space: nowrap;
        }
        
        select {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            background: var(--bg-card);
            color: var(--text-primary);
            font-size: 0.7rem;
            cursor: pointer;
            min-width: 90px;
        }
        
        select:hover {
            border-color: var(--accent);
        }
        
        .toggle-group {
            display: flex;
            background: var(--bg-card);
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        
        .toggle-btn {
            padding: 0.2rem 0.4rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.7rem;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        .toggle-btn.active {
            background: var(--accent);
            color: var(--bg-primary);
        }
        
        .toggle-btn:hover:not(.active) {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }
        
        .vendor-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.35rem;
            margin-bottom: 0.75rem;
        }
        
        .vendor-card {
            display: flex;
            flex-direction: column;
            padding: 0.5rem;
            background: var(--bg-card);
            border-radius: 4px;
            border: 2px solid var(--border-color);
            min-width: 0;
            position: relative;
            font-size: 0.75rem;
        }
        
        .vendor-card.active {
            border-color: var(--accent);
        }
        
        .vendor-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.3rem;
        }
        
        .vendor-name {
            font-weight: 600;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .vendor-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .remove-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.9rem;
            padding: 0;
            line-height: 1;
        }
        
        .remove-btn:hover {
            color: #F85149;
        }
        
        .vendor-card select {
            min-width: auto;
            width: 100%;
            margin-top: 0.1rem;
            padding: 0.15rem 0.3rem;
            font-size: 0.65rem;
        }
        
        .vendor-card label {
            font-size: 0.6rem;
            color: var(--text-secondary);
            margin-top: 0.15rem;
        }
        
        .chart-container {
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            padding: 0.5rem;
            margin-bottom: 0.75rem;
        }
        
        #chart {
            width: 100%;
            height: 400px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 0.5rem;
            margin-top: 0.75rem;
        }
        
        .stat-card {
            background: var(--bg-card);
            border-radius: 6px;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
        }
        
        .stat-card h3 {
            font-size: 0.65rem;
            color: var(--text-secondary);
            margin-bottom: 0.4rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .stat-value {
            font-size: 1rem;
            font-weight: 600;
        }
        
        .stat-vendor {
            font-size: 0.65rem;
            color: var(--text-secondary);
            margin-top: 0.15rem;
        }
        
        .add-vendor-btn {
            padding: 0.4rem 0.75rem;
            border-radius: 4px;
            border: 2px dashed var(--border-color);
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.7rem;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .add-vendor-btn:hover {
            border-color: var(--accent);
            color: var(--text-primary);
        }
        
        .chart-mode-group {
            margin-left: auto;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Bench2Cost Interactive Benchmark Explorer</h1>
        <p class="subtitle">Compare cloud data warehouse cost-performance across different scales and configurations</p>
        
        <div class="controls">
            <div class="control-group">
                <select id="addVendor">
                    <option value="">+ Add Vendor</option>
                    <option value="BigQuery">BigQuery</option> <option value="ClickHouse Cloud">ClickHouse Cloud</option> <option value="Databricks">Databricks</option> <option value="Firebolt">Firebolt</option> <option value="Redshift Serverless">Redshift Serverless</option> <option value="Snowflake">Snowflake</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Scale:</label>
                <div class="toggle-group" id="scaleToggle">
                    <button class="toggle-btn" data-value="1B">1B</button>
                    <button class="toggle-btn" data-value="10B">10B</button>
                    <button class="toggle-btn active" data-value="100B">100B</button>
                </div>
            </div>
            
            <div class="control-group chart-mode-group">
                <label>View:</label>
                <div class="toggle-group" id="viewToggle">
                    <button class="toggle-btn active" data-value="scatter">Scatter</button>
                    <button class="toggle-btn" data-value="bar">Bar</button>
                    <button class="toggle-btn" data-value="cost-perf">$/Perf</button>
                </div>
            </div>
            
            <div class="control-group">
                <label>Axis:</label>
                <div class="toggle-group" id="logScaleToggle">
                    <button class="toggle-btn" data-value="linear">Linear</button>
                    <button class="toggle-btn active" data-value="log">Log</button>
                </div>
            </div>
        </div>
        
        <div class="vendor-cards" id="vendorCards">
            <!-- Vendor cards will be dynamically added here -->
        </div>
        
        <div class="chart-container">
            <div id="chart"></div>
        </div>
        
        <div class="stats-grid" id="statsGrid">
            <!-- Stats will be dynamically added here -->
        </div>
    </div>
    
    <script>
        // Benchmark data
        const benchmarkData = [
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_9n",
    "scale": "1B",
    "runtime": 16.088,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 0.29601920000000004,
        "storage_cost": 0.6243958998082053
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.38611199999999996,
        "storage_cost": 0.6243958998082053
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 9,
    "data_size": 25361305954
  },
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_3n",
    "scale": "1B",
    "runtime": 15.760999999999997,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 0.09666746666666667,
        "storage_cost": 0.6243172395286274
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.126088,
        "storage_cost": 0.6243172395286274
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 3,
    "data_size": 25358110982
  },
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_9n",
    "scale": "10B",
    "runtime": 36.35199999999999,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 0.6688768,
        "storage_cost": 1.5649600929423833
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.872448,
        "storage_cost": 1.5649600929423833
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 9,
    "data_size": 63564529708
  },
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_20n",
    "scale": "10B",
    "runtime": 36.531,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 1.4937120000000002,
        "storage_cost": 1.5645132265760093
      },
      {
        "name": "Enterprise",
        "compute_cost": 1.94832,
        "storage_cost": 1.5645132265760093
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 20,
    "data_size": 63546379181
  },
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_3n",
    "scale": "10B",
    "runtime": 83.08999999999999,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 0.5096186666666667,
        "storage_cost": 1.5657545032886446
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.66472,
        "storage_cost": 1.5657545032886446
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 3,
    "data_size": 63596796550
  },
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_9n",
    "scale": "100B",
    "runtime": 255.03599999999997,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 4.692662400000001,
        "storage_cost": 9.66526303464394
      },
      {
        "name": "Enterprise",
        "compute_cost": 6.120864,
        "storage_cost": 9.66526303464394
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 9,
    "data_size": 392577358408
  },
  {
    "vendor": "Firebolt",
    "config": "bench2cost_xl_co_20n",
    "scale": "100B",
    "runtime": 138.46599999999998,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 5.6617208888888895,
        "storage_cost": 9.670322083150632
      },
      {
        "name": "Enterprise",
        "compute_cost": 7.384853333333333,
        "storage_cost": 9.670322083150632
      }
    ],
    "system": "Firebolt Cloud",
    "machine": "XL_COMPUTE_OPTIMIZED",
    "cluster_size": 20,
    "data_size": 392782843545
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.9.236.parallel_replicas",
    "scale": "1B",
    "runtime": 23.172,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 0.37273581285,
        "storage_cost": 1.1268397027052
      },
      {
        "name": "Scale",
        "compute_cost": 0.5100487401,
        "storage_cost": 1.1268397027052
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.6669973305,
        "storage_cost": 1.1268397027052
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 9,
    "data_size": 44539118684
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.3.236.parallel_replicas",
    "scale": "1B",
    "runtime": 38.451,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 0.20616929541249998,
        "storage_cost": 1.1268397027052
      },
      {
        "name": "Scale",
        "compute_cost": 0.282120434225,
        "storage_cost": 1.1268397027052
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.368932538625,
        "storage_cost": 1.1268397027052
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 3,
    "data_size": 44539118684
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.6.236.parallel_replicas",
    "scale": "1B",
    "runtime": 29.403000000000006,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 0.315310176225,
        "storage_cost": 1.1268397027052
      },
      {
        "name": "Scale",
        "compute_cost": 0.43146795285000006,
        "storage_cost": 1.1268397027052
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.5642362192499999,
        "storage_cost": 1.1268397027052
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 6,
    "data_size": 44539118684
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.9.236.parallel_replicas",
    "scale": "10B",
    "runtime": 98.982,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 1.592186096475,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Scale",
        "compute_cost": 2.17873486935,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Enterprise",
        "compute_cost": 2.84915975175,
        "storage_cost": 2.420106590088
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 9,
    "data_size": 95656386960
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.3.236.parallel_replicas",
    "scale": "10B",
    "runtime": 208.67899999999992,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 1.1189098436291667,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Scale",
        "compute_cost": 1.5311073858583333,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Enterprise",
        "compute_cost": 2.0022489201249996,
        "storage_cost": 2.420106590088
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 3,
    "data_size": 95656386960
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.6.236.parallel_replicas",
    "scale": "10B",
    "runtime": 146.96100000000007,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 1.575971799075,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Scale",
        "compute_cost": 2.15654735295,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Enterprise",
        "compute_cost": 2.8201448497499997,
        "storage_cost": 2.420106590088
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 6,
    "data_size": 95656386960
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.20.236.parallel_replicas",
    "scale": "10B",
    "runtime": 66.69900000000001,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 2.38420948475,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Scale",
        "compute_cost": 3.2625334135,
        "storage_cost": 2.420106590088
      },
      {
        "name": "Enterprise",
        "compute_cost": 4.2664571175,
        "storage_cost": 2.420106590088
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 20,
    "data_size": 95656386960
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.9.236.parallel_replicas",
    "scale": "100B",
    "runtime": 443.231,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 7.1296421139875,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Scale",
        "compute_cost": 9.756145914175,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Enterprise",
        "compute_cost": 12.758238123375,
        "storage_cost": 4.6117834536928
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 9,
    "data_size": 182283930976
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.3.236.parallel_replicas",
    "scale": "100B",
    "runtime": 1157.4770000000003,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 6.2062421665541665,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Scale",
        "compute_cost": 8.492572724908333,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Enterprise",
        "compute_cost": 11.105847130374999,
        "storage_cost": 4.6117834536928
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 3,
    "data_size": 182283930976
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.6.236.parallel_replicas",
    "scale": "100B",
    "runtime": 598.4669999999999,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 6.417805504025,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Scale",
        "compute_cost": 8.78207432365,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Enterprise",
        "compute_cost": 11.48443211325,
        "storage_cost": 4.6117834536928
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 6,
    "data_size": 182283930976
  },
  {
    "vendor": "ClickHouse Cloud",
    "config": "aws.20.236.parallel_replicas",
    "scale": "100B",
    "runtime": 275.4219999999999,
    "tiers": [
      {
        "name": "Basic",
        "compute_cost": 9.84518125772222,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Scale",
        "compute_cost": 13.472068214111111,
        "storage_cost": 4.6117834536928
      },
      {
        "name": "Enterprise",
        "compute_cost": 17.61759774833333,
        "storage_cost": 4.6117834536928
      }
    ],
    "system": "ClickHouse Cloud (AWS)",
    "machine": "236GiB",
    "cluster_size": 20,
    "data_size": 182283930976
  },
  {
    "vendor": "Snowflake",
    "config": "large_enriched",
    "scale": "1B",
    "runtime": 127.14599999999999,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 0.5650933333333333,
        "storage_cost": 4.4734010639360005
      },
      {
        "name": "enterprise",
        "compute_cost": 0.8476400000000001,
        "storage_cost": 4.4734010639360005
      },
      {
        "name": "business_critical",
        "compute_cost": 1.1301866666666667,
        "storage_cost": 4.4734010639360005
      }
    ],
    "system": "Snowflake",
    "machine": "Large",
    "cluster_size": 8,
    "data_size": 194495698432
  },
  {
    "vendor": "Snowflake",
    "config": "4xl_enriched",
    "scale": "1B",
    "runtime": 44.838999999999984,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 3.1885511111111113,
        "storage_cost": 4.4734010639360005
      },
      {
        "name": "enterprise",
        "compute_cost": 4.782826666666667,
        "storage_cost": 4.4734010639360005
      },
      {
        "name": "business_critical",
        "compute_cost": 6.377102222222223,
        "storage_cost": 4.4734010639360005
      }
    ],
    "system": "Snowflake",
    "machine": "4X-Large",
    "cluster_size": 128,
    "data_size": 194495698432
  },
  {
    "vendor": "Snowflake",
    "config": "xs_enriched",
    "scale": "1B",
    "runtime": 785.075,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 0.4361527777777778,
        "storage_cost": 4.4734010639360005
      },
      {
        "name": "enterprise",
        "compute_cost": 0.6542291666666668,
        "storage_cost": 4.4734010639360005
      },
      {
        "name": "business_critical",
        "compute_cost": 0.8723055555555556,
        "storage_cost": 4.4734010639360005
      }
    ],
    "system": "Snowflake",
    "machine": "X-Small",
    "cluster_size": 1,
    "data_size": 194495698432
  },
  {
    "vendor": "Snowflake",
    "config": "large_enriched",
    "scale": "10B",
    "runtime": 1213.4379999999996,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 5.393057777777778,
        "storage_cost": 45.205527861760004
      },
      {
        "name": "enterprise",
        "compute_cost": 8.089586666666667,
        "storage_cost": 45.205527861760004
      },
      {
        "name": "business_critical",
        "compute_cost": 10.786115555555556,
        "storage_cost": 45.205527861760004
      }
    ],
    "system": "Snowflake",
    "machine": "Large",
    "cluster_size": 8,
    "data_size": 1965457733120
  },
  {
    "vendor": "Snowflake",
    "config": "4xl_enriched",
    "scale": "10B",
    "runtime": 135.06199999999993,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 9.604408888888889,
        "storage_cost": 45.205527861760004
      },
      {
        "name": "enterprise",
        "compute_cost": 14.406613333333334,
        "storage_cost": 45.205527861760004
      },
      {
        "name": "business_critical",
        "compute_cost": 19.208817777777778,
        "storage_cost": 45.205527861760004
      }
    ],
    "system": "Snowflake",
    "machine": "4X-Large",
    "cluster_size": 128,
    "data_size": 1965457733120
  },
  {
    "vendor": "Snowflake",
    "config": "xs_enriched",
    "scale": "10B",
    "runtime": 9547.237000000001,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 5.304020555555556,
        "storage_cost": 45.205527861760004
      },
      {
        "name": "enterprise",
        "compute_cost": 7.956030833333333,
        "storage_cost": 45.205527861760004
      },
      {
        "name": "business_critical",
        "compute_cost": 10.608041111111111,
        "storage_cost": 45.205527861760004
      }
    ],
    "system": "Snowflake",
    "machine": "X-Small",
    "cluster_size": 1,
    "data_size": 1965457733120
  },
  {
    "vendor": "Snowflake",
    "config": "large_enriched",
    "scale": "100B",
    "runtime": 21119.285000000007,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 93.86348888888888,
        "storage_cost": 454.330302404608
      },
      {
        "name": "enterprise",
        "compute_cost": 140.79523333333333,
        "storage_cost": 454.330302404608
      },
      {
        "name": "business_critical",
        "compute_cost": 187.72697777777776,
        "storage_cost": 454.330302404608
      }
    ],
    "system": "Snowflake",
    "machine": "Large",
    "cluster_size": 8,
    "data_size": 19753491408896
  },
  {
    "vendor": "Snowflake",
    "config": "4xl_enriched",
    "scale": "100B",
    "runtime": 1211.801,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 86.17251555555555,
        "storage_cost": 454.330302404608
      },
      {
        "name": "enterprise",
        "compute_cost": 129.25877333333335,
        "storage_cost": 454.330302404608
      },
      {
        "name": "business_critical",
        "compute_cost": 172.3450311111111,
        "storage_cost": 454.330302404608
      }
    ],
    "system": "Snowflake",
    "machine": "4X-Large",
    "cluster_size": 128,
    "data_size": 19753491408896
  },
  {
    "vendor": "Snowflake",
    "config": "xs_enriched",
    "scale": "100B",
    "runtime": 144955.026,
    "tiers": [
      {
        "name": "standard",
        "compute_cost": 80.53057,
        "storage_cost": 0
      },
      {
        "name": "enterprise",
        "compute_cost": 120.795855,
        "storage_cost": 0
      },
      {
        "name": "business_critical",
        "compute_cost": 161.06114,
        "storage_cost": 0
      }
    ],
    "system": "Snowflake",
    "machine": "X-Small",
    "cluster_size": 1,
    "data_size": 0
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_Large_enriched",
    "scale": "1B",
    "runtime": 79.55399999999997,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 0.6187533333333333,
        "storage_cost": 3.506869343565
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "Large",
    "data_size": 152472580155
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_2X-Small_enriched",
    "scale": "1B",
    "runtime": 711.485,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 0.5533772222222222,
        "storage_cost": 3.506869343565
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "2X-Small",
    "data_size": 152472580155
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_4X-Large_enriched",
    "scale": "1B",
    "runtime": 58.979,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 6.055177333333333,
        "storage_cost": 3.506869343565
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "4X-Large",
    "data_size": 152472580155
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_Large_enriched",
    "scale": "10B",
    "runtime": 603.8109999999999,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 4.696307777777777,
        "storage_cost": 35.079383328362
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "Large",
    "data_size": 1525190579494
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_2X-Small_enriched",
    "scale": "10B",
    "runtime": 17557.531000000003,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 13.655857444444443,
        "storage_cost": 35.079383328362
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "2X-Small",
    "data_size": 1525190579494
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_4X-Large_enriched",
    "scale": "10B",
    "runtime": 187.77900000000002,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 19.278644,
        "storage_cost": 35.079383328362
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "4X-Large",
    "data_size": 1525190579494
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_Large_enriched",
    "scale": "100B",
    "runtime": 11821.113,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 91.94198999999999,
        "storage_cost": 351.017055780631
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "Large",
    "data_size": 15261611120897
  },
  {
    "vendor": "Databricks",
    "config": "clickbench_4X-Large_enriched",
    "scale": "100B",
    "runtime": 1048.9440000000002,
    "tiers": [
      {
        "name": "premium",
        "compute_cost": 107.69158399999999,
        "storage_cost": 351.017055780631
      }
    ],
    "system": "Databricks Serverless SQL warehouse",
    "machine": "serverless",
    "cluster_size": "4X-Large",
    "data_size": 15261611120897
  },
  {
    "vendor": "BigQuery",
    "config": "result_enriched",
    "scale": "1B",
    "runtime": 37.989,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 0.532936588888889,
        "storage_cost": 3.470113388654776
      },
      {
        "name": "Enterprise",
        "compute_cost": 0.7994048833333334,
        "storage_cost": 3.470113388654776
      },
      {
        "name": "Enterprise Plus",
        "compute_cost": 1.3323414722222222,
        "storage_cost": 3.470113388654776
      },
      {
        "name": "OnDemand",
        "compute_cost": 16.92848801612854,
        "storage_cost": 3.470113388654776
      }
    ],
    "system": "BigQuery",
    "machine": "serverless",
    "cluster_size": "serverless",
    "data_size": 162000255627
  },
  {
    "vendor": "BigQuery",
    "config": "result_enriched",
    "scale": "10B",
    "runtime": 350.2440000000001,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 7.818349777777778,
        "storage_cost": 38.804871189283205
      },
      {
        "name": "Enterprise",
        "compute_cost": 11.727524666666667,
        "storage_cost": 38.804871189283205
      },
      {
        "name": "Enterprise Plus",
        "compute_cost": 19.545874444444443,
        "storage_cost": 38.804871189283205
      },
      {
        "name": "OnDemand",
        "compute_cost": 169.28383708000183,
        "storage_cost": 38.804871189283205
      }
    ],
    "system": "BigQuery",
    "machine": "serverless",
    "cluster_size": "serverless",
    "data_size": 1811583181342
  },
  {
    "vendor": "BigQuery",
    "config": "result_enriched",
    "scale": "100B",
    "runtime": 3869.5549999999994,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 84.34592776666668,
        "storage_cost": 389.58246190649174
      },
      {
        "name": "Enterprise",
        "compute_cost": 126.51889165000001,
        "storage_cost": 389.58246190649174
      },
      {
        "name": "Enterprise Plus",
        "compute_cost": 210.86481941666668,
        "storage_cost": 389.58246190649174
      },
      {
        "name": "OnDemand",
        "compute_cost": 1692.8373396396637,
        "storage_cost": 389.58246190649174
      }
    ],
    "system": "BigQuery",
    "machine": "serverless",
    "cluster_size": "serverless",
    "data_size": 18187434054169
  },
  {
    "vendor": "Redshift Serverless",
    "config": "enriched_1b",
    "scale": "1B",
    "runtime": 64.226,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 0.8540253125,
        "storage_cost": 7.635436830720001
      }
    ],
    "system": "Redshift Serverless",
    "machine": "serverless",
    "cluster_size": "serverless",
    "data_size": 318143201280
  },
  {
    "vendor": "Redshift Serverless",
    "config": "enriched_10b",
    "scale": "10B",
    "runtime": 1067.5340000000003,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 13.582136354166668,
        "storage_cost": 49.25253746688
      }
    ],
    "system": "Redshift Serverless",
    "machine": "serverless",
    "cluster_size": "serverless",
    "data_size": 2052189061120
  },
  {
    "vendor": "Redshift Serverless",
    "config": "enriched_100b",
    "scale": "100B",
    "runtime": 5015.5859999999975,
    "tiers": [
      {
        "name": "Standard",
        "compute_cost": 55.058188020833335,
        "storage_cost": 489.78474093772803
      }
    ],
    "system": "Redshift Serverless",
    "machine": "serverless",
    "cluster_size": "serverless",
    "data_size": 20407697539072
  }
];
        
        // Vendor colors
        const vendorColors = {"ClickHouse Cloud": "#FADB14", "Firebolt": "#f82f35", "Snowflake": "#29B5E8", "Databricks": "#ffbfb8", "BigQuery": "#4285F4", "Redshift Serverless": "#F77600"};
        
        // State
        let selectedScale = '100B';
        let selectedView = 'scatter';
        let useLogScale = true;
        let activeVendors = [];
        
        // Default configurations per scale
        const scaleDefaults = {
            '1B': {
                'Firebolt': { config: 'bench2cost_xl_co_9n', tier: 'Enterprise' },
                'ClickHouse Cloud': { config: 'aws.9.236.parallel_replicas', tier: 'Enterprise' },
                'Snowflake': { config: '4xl_enriched', tier: 'enterprise' },
                'Databricks': { config: 'clickbench_4X-Large_enriched', tier: 'premium' },
                'BigQuery': { config: null, tier: 'Enterprise' },
                'Redshift Serverless': { config: null, tier: 'Standard' }
            },
            '10B': {
                'Firebolt': { config: 'bench2cost_xl_co_20n', tier: 'Enterprise' },
                'ClickHouse Cloud': { config: 'aws.20.236.parallel_replicas', tier: 'Enterprise' },
                'Snowflake': { config: '4xl_enriched', tier: 'enterprise' },
                'Databricks': { config: 'clickbench_4X-Large_enriched', tier: 'premium' },
                'BigQuery': { config: null, tier: 'Enterprise' },
                'Redshift Serverless': { config: null, tier: 'Standard' }
            },
            '100B': {
                'Firebolt': { config: 'bench2cost_xl_co_20n', tier: 'Enterprise' },
                'ClickHouse Cloud': { config: 'aws.20.236.parallel_replicas', tier: 'Enterprise' },
                'Snowflake': { config: '4xl_enriched', tier: 'enterprise' },
                'Databricks': { config: 'clickbench_4X-Large_enriched', tier: 'premium' },
                'BigQuery': { config: null, tier: 'Enterprise' },
                'Redshift Serverless': { config: null, tier: 'Standard' }
            }
        };
        
        // Initialize with all vendors using scale-specific defaults
        function initializeDefaults() {
            const defaultVendors = ['Firebolt', 'ClickHouse Cloud', 'Snowflake', 'Databricks', 'BigQuery', 'Redshift Serverless'];
            defaultVendors.forEach(vendor => {
                const configs = getConfigsForVendor(vendor, selectedScale);
                if (configs.length > 0) {
                    const defaults = scaleDefaults[selectedScale]?.[vendor] || {};
                    const config = defaults.config || configs[configs.length - 1];
                    const tier = defaults.tier || null;
                    addVendorCard(vendor, config, tier);
                }
            });
        }
        
        // Get config size for sorting (larger = bigger number)
        function getConfigSize(config) {
            const configLower = config.toLowerCase();
            
            // Handle node counts with suffix (e.g., "bench2cost_l_co_3n", "bench2cost_l_co_20n")
            const nodeSuffixMatch = configLower.match(/(\d+)n$/);
            if (nodeSuffixMatch) {
                return parseInt(nodeSuffixMatch[1]) * 100;
            }
            
            // Handle ClickHouse configs (e.g., "aws.3.236.parallel_replicas", "aws.20.236.parallel_replicas")
            const clickhouseMatch = configLower.match(/aws\.(\d+)\./);
            if (clickhouseMatch) {
                return parseInt(clickhouseMatch[1]) * 100;
            }
            
            // Handle node counts at start (e.g., "3n", "9n", "20n", "3.236 (PR)")
            const nodeStartMatch = configLower.match(/^(\d+)/);
            if (nodeStartMatch) {
                return parseInt(nodeStartMatch[1]) * 100;
            }
            
            // Handle warehouse sizes - check from largest to smallest to avoid 'large' matching before '4xl'
            const sizeOrder = [
                ['4xl', 8], ['4x-large', 8], ['4xlarge', 8],
                ['3xl', 7], ['3x-large', 7], ['3xlarge', 7],
                ['2xl', 6], ['2x-large', 6], ['2xlarge', 6],
                ['xl', 5], ['xlarge', 5], ['x-large', 5],
                ['large', 4],
                ['medium', 3],
                ['small', 2],
                ['xs', 1], ['extra-small', 1]
            ];
            
            for (const [key, value] of sizeOrder) {
                if (configLower.includes(key)) {
                    return value;
                }
            }
            
            return 0;
        }
        
        // Get available configurations for a vendor at a given scale (sorted by size)
        function getConfigsForVendor(vendor, scale) {
            return benchmarkData
                .filter(d => d.vendor === vendor && d.scale === scale)
                .map(d => d.config)
                // Filter out Firebolt 1-node config
                .filter(c => !c.match(/bench2cost_l_co_1n/))
                .sort((a, b) => getConfigSize(a) - getConfigSize(b));
        }
        
        // Get tiers for a vendor/config/scale combination
        function getTiersForConfig(vendor, config, scale) {
            const data = benchmarkData.find(d => 
                d.vendor === vendor && d.config === config && d.scale === scale
            );
            return data ? data.tiers.map(t => t.name) : [];
        }
        
        // Add a vendor card
        function addVendorCard(vendor, config = null, tier = null) {
            const configs = getConfigsForVendor(vendor, selectedScale);
            if (configs.length === 0) return;
            
            config = config || configs[0];
            const tiers = getTiersForConfig(vendor, config, selectedScale);
            tier = tier || (tiers.length > 0 ? tiers[0] : null);
            
            const vendorId = `vendor-${Date.now()}`;
            const color = vendorColors[vendor] || '#888';
            
            activeVendors.push({
                id: vendorId,
                vendor: vendor,
                config: config,
                tier: tier
            });
            
            // Check if this is a serverless system with only one config
            const isServerless = configs.length === 1 && 
                (vendor === 'BigQuery' || vendor === 'Redshift Serverless');
            
            const card = document.createElement('div');
            card.className = 'vendor-card active';
            card.id = vendorId;
            card.innerHTML = `
                <div class="vendor-card-header">
                    <span class="vendor-name">
                        <span class="vendor-dot" style="background: ${color}"></span>
                        ${vendor}
                    </span>
                    <button class="remove-btn" onclick="removeVendorCard('${vendorId}')">&times;</button>
                </div>
                ${isServerless ? '<span style="color: #8B949E; font-size: 0.6rem;">Serverless</span>' : '<label>Config</label><select onchange="updateVendorConfig(\'' + vendorId + '\', this.value)">' + configs.map(c => '<option value="' + c + '"' + (c === config ? ' selected' : '') + '>' + formatConfigName(c) + '</option>').join('') + '</select>'}
                <label style="margin-top: 0.5rem">Tier</label>
                <select onchange="updateVendorTier('${vendorId}', this.value)">
                    ${tiers.map(t => `<option value="${t}" ${t === tier ? 'selected' : ''}>${t}</option>`).join('')}
                </select>
            `;
            
            document.getElementById('vendorCards').appendChild(card);
            updateChart();
        }
        
        // Format config name for display
        function formatConfigName(config) {
            // Handle Firebolt configs: bench2cost_xl_co_3n -> XL CO 3 nodes
            const fireboltXLMatch = config.match(/bench2cost_xl_co_(\d+)n/);
            if (fireboltXLMatch) {
                return `XL CO ${fireboltXLMatch[1]} nodes`;
            }
            
            // Handle Firebolt configs: bench2cost_l_co_3n -> L CO 3 nodes
            const fireboltLMatch = config.match(/bench2cost_l_co_(\d+)n/);
            if (fireboltLMatch) {
                return `L CO ${fireboltLMatch[1]} nodes`;
            }
            
            // Handle ClickHouse configs: aws.3.236.parallel_replicas -> 3 nodes
            const clickhouseMatch = config.match(/aws\.(\d+)\..*parallel_replicas/);
            if (clickhouseMatch) {
                return `${clickhouseMatch[1]} nodes`;
            }
            
            return config
                .replace('bench2cost_l_co_', '')
                .replace('_enriched', '')
                .replace('aws.', '')
                .replace('.parallel_replicas', ' (PR)')
                .replace('clickbench_', '')
                .replace('result_', '');
        }
        
        // Remove a vendor card
        function removeVendorCard(vendorId) {
            activeVendors = activeVendors.filter(v => v.id !== vendorId);
            document.getElementById(vendorId)?.remove();
            updateChart();
        }
        
        // Update vendor config
        function updateVendorConfig(vendorId, config) {
            const vendorData = activeVendors.find(v => v.id === vendorId);
            if (vendorData) {
                vendorData.config = config;
                const tiers = getTiersForConfig(vendorData.vendor, config, selectedScale);
                vendorData.tier = tiers.length > 0 ? tiers[0] : null;
                
                // Update tier dropdown
                const card = document.getElementById(vendorId);
                const tierSelect = card.querySelectorAll('select')[1];
                tierSelect.innerHTML = tiers.map(t => 
                    `<option value="${t}">${t}</option>`
                ).join('');
            }
            updateChart();
        }
        
        // Update vendor tier
        function updateVendorTier(vendorId, tier) {
            const vendorData = activeVendors.find(v => v.id === vendorId);
            if (vendorData) {
                vendorData.tier = tier;
            }
            updateChart();
        }
        
        // Get data point for vendor/config/tier/scale
        function getDataPoint(vendor, config, tier, scale) {
            const data = benchmarkData.find(d => 
                d.vendor === vendor && d.config === config && d.scale === scale
            );
            if (!data) return null;
            
            const tierData = data.tiers.find(t => t.name === tier);
            if (!tierData) return null;
            
            return {
                vendor: vendor,
                config: config,
                tier: tier,
                runtime: data.runtime,
                cost: tierData.compute_cost,
                system: data.system,
                machine: data.machine,
                cluster_size: data.cluster_size
            };
        }
        
        // Update the chart
        function updateChart() {
            const dataPoints = activeVendors
                .map(v => getDataPoint(v.vendor, v.config, v.tier, selectedScale))
                .filter(d => d !== null);
            
            if (dataPoints.length === 0) {
                Plotly.purge('chart');
                return;
            }
            
            if (selectedView === 'scatter') {
                renderScatterPlot(dataPoints);
            } else if (selectedView === 'bar') {
                renderBarChart(dataPoints);
            } else {
                renderCostPerfChart(dataPoints);
            }
            
            updateStats(dataPoints);
        }
        
        // Render scatter plot
        function renderScatterPlot(dataPoints) {
            const traces = dataPoints.map(d => ({
                x: [d.runtime],
                y: [d.cost],
                mode: 'markers+text',
                type: 'scatter',
                name: `${d.vendor} (${formatConfigName(d.config)})`,
                text: [(d.vendor === 'BigQuery' || d.vendor === 'Redshift Serverless') ? d.vendor : `${d.vendor} ${formatConfigName(d.config)}`],
                textposition: 'top center',
                textfont: {
                    color: '#E6EDF3',
                    size: 11
                },
                marker: {
                    size: 16,
                    color: vendorColors[d.vendor] || '#888',
                    line: {
                        color: '#E6EDF3',
                        width: 1
                    }
                },
                hovertemplate: `<b>${d.vendor}</b><br>` +
                    `Config: ${(d.vendor === 'BigQuery' || d.vendor === 'Redshift Serverless') ? 'Serverless' : formatConfigName(d.config)}<br>` +
                    `Tier: ${d.tier}<br>` +
                    `Runtime: %{x:.2f}s<br>` +
                    `Cost: $%{y:.4f}<extra></extra>`
            }));
            
            const layout = {
                title: {
                    text: `Total Runtime vs Total Cost (${selectedScale} rows)`,
                    font: { color: '#E6EDF3', size: 16 }
                },
                xaxis: {
                    title: useLogScale ? 'Total Runtime (seconds, log) → right is better' : 'Total Runtime (seconds) → right is better',
                    type: useLogScale ? 'log' : 'linear',
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#8B949E' },
                    titlefont: { color: '#8B949E' },
                    autorange: 'reversed'
                },
                yaxis: {
                    title: useLogScale ? 'Total Cost (USD, log) → up is better' : 'Total Cost (USD) → up is better',
                    type: useLogScale ? 'log' : 'linear',
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#8B949E' },
                    titlefont: { color: '#8B949E' },
                    autorange: 'reversed'
                },
                paper_bgcolor: '#161B22',
                plot_bgcolor: '#161B22',
                showlegend: false,
                margin: { t: 50, b: 80, l: 80, r: 30 }
            };
            
            Plotly.newPlot('chart', traces, layout, { responsive: true });
        }
        
        // Render bar chart
        function renderBarChart(dataPoints) {
            // Sort by cost-performance score (best performer first - will appear at top)
            const scored = dataPoints.map(d => ({
                ...d,
                score: d.runtime * d.cost
            }));
            // Sort ascending by score (best first)
            const sortedByScore = [...scored].sort((a, b) => a.score - b.score);
            
            const labels = sortedByScore.map(d => `${d.vendor} ${formatConfigName(d.config)}`);
            
            // Cost trace (yellow) - plotted on top x-axis
            const costTrace = {
                y: labels,
                x: sortedByScore.map(d => d.cost),
                type: 'bar',
                orientation: 'h',
                name: 'Compute Cost ($)',
                marker: {
                    color: '#F7E655'  // Yellow color like ClickHouse chart
                },
                hovertemplate: '<b>%{y}</b><br>Cost: $%{x:.2f}<extra></extra>',
                xaxis: 'x2',
                yaxis: 'y',
                offsetgroup: 1
            };
            
            // Performance/Runtime trace (gray) - plotted on bottom x-axis  
            const runtimeTrace = {
                y: labels,
                x: sortedByScore.map(d => d.runtime),
                type: 'bar',
                orientation: 'h',
                name: 'Performance (s)',
                marker: {
                    color: '#888888'  // Gray color like ClickHouse chart
                },
                hovertemplate: '<b>%{y}</b><br>Runtime: %{x:.2f}s<extra></extra>',
                xaxis: 'x',
                yaxis: 'y',
                offsetgroup: 2
            };
            
            const layout = {
                paper_bgcolor: '#161B22',
                plot_bgcolor: '#161B22',
                showlegend: true,
                legend: {
                    font: { color: '#E6EDF3' },
                    orientation: 'h',
                    x: 0.5,
                    xanchor: 'center',
                    y: 1.15,
                    bgcolor: 'rgba(0,0,0,0)'
                },
                margin: { t: 80, b: 60, l: 200, r: 20 },
                barmode: 'group',
                bargap: 0.3,
                bargroupgap: 0.1,
                // Top x-axis for Cost
                xaxis2: {
                    title: { text: 'Cost ($)', font: { color: '#8B949E', size: 12 } },
                    side: 'top',
                    overlaying: 'x',
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#8B949E' },
                    zeroline: false,
                    showgrid: true
                },
                // Bottom x-axis for Time
                xaxis: {
                    title: { text: 'Time (s)', font: { color: '#8B949E', size: 12 } },
                    side: 'bottom',
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#8B949E' },
                    zeroline: false,
                    showgrid: true
                },
                yaxis: {
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#E6EDF3', size: 11 },
                    automargin: true,
                    categoryorder: 'array',
                    categoryarray: [...labels].reverse()  // Reverse so best performer (first in sorted) appears at top
                }
            };
            
            Plotly.newPlot('chart', [costTrace, runtimeTrace], layout, { responsive: true });
        }
        
        // Render cost-performance chart
        function renderCostPerfChart(dataPoints) {
            // Cost-performance score = runtime × cost (lower is better)
            const scored = dataPoints.map(d => ({
                ...d,
                score: d.runtime * d.cost
            }));
            
            const minScore = Math.min(...scored.map(d => d.score));
            scored.forEach(d => {
                d.relative = d.score / minScore;
            });
            
            const sorted = scored.sort((a, b) => a.relative - b.relative);
            
            const trace = {
                x: sorted.map(d => `${d.vendor}<br>${formatConfigName(d.config)}`),
                y: sorted.map(d => d.relative),
                type: 'bar',
                marker: {
                    color: sorted.map(d => vendorColors[d.vendor] || '#888')
                },
                text: sorted.map(d => `${d.relative.toFixed(1)}×`),
                textposition: 'outside',
                textfont: { color: '#E6EDF3' },
                hovertemplate: '<b>%{x}</b><br>Cost-Perf Score: %{y:.2f}× baseline<extra></extra>'
            };
            
            const layout = {
                title: {
                    text: `Cost-Performance Ranking (${selectedScale} rows) — lower is better`,
                    font: { color: '#E6EDF3', size: 16 }
                },
                xaxis: {
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#8B949E' }
                },
                yaxis: {
                    title: 'Relative Cost-Performance (1× = best)',
                    gridcolor: '#30363D',
                    linecolor: '#30363D',
                    tickfont: { color: '#8B949E' },
                    titlefont: { color: '#8B949E' }
                },
                paper_bgcolor: '#161B22',
                plot_bgcolor: '#161B22',
                showlegend: false,
                margin: { t: 50, b: 120, l: 80, r: 30 }
            };
            
            Plotly.newPlot('chart', [trace], layout, { responsive: true });
        }
        
        // Update stats
        function updateStats(dataPoints) {
            const statsGrid = document.getElementById('statsGrid');
            
            if (dataPoints.length === 0) {
                statsGrid.innerHTML = '';
                return;
            }
            
            const fastestByRuntime = dataPoints.reduce((a, b) => a.runtime < b.runtime ? a : b);
            const cheapest = dataPoints.reduce((a, b) => a.cost < b.cost ? a : b);
            const bestCostPerf = dataPoints.reduce((a, b) => 
                (a.runtime * a.cost) < (b.runtime * b.cost) ? a : b
            );
            
            statsGrid.innerHTML = `
                <div class="stat-card">
                    <h3>Fastest Runtime</h3>
                    <div class="stat-value" style="color: ${vendorColors[fastestByRuntime.vendor]}">${fastestByRuntime.runtime.toFixed(2)}s</div>
                    <div class="stat-vendor">${fastestByRuntime.vendor} (${formatConfigName(fastestByRuntime.config)})</div>
                </div>
                <div class="stat-card">
                    <h3>Lowest Cost</h3>
                    <div class="stat-value" style="color: ${vendorColors[cheapest.vendor]}">$${cheapest.cost.toFixed(4)}</div>
                    <div class="stat-vendor">${cheapest.vendor} (${formatConfigName(cheapest.config)})</div>
                </div>
                <div class="stat-card">
                    <h3>Best Cost-Performance</h3>
                    <div class="stat-value" style="color: ${vendorColors[bestCostPerf.vendor]}">1.0×</div>
                    <div class="stat-vendor">${bestCostPerf.vendor} (${formatConfigName(bestCostPerf.config)})</div>
                </div>
            `;
        }
        
        // Event Listeners
        document.getElementById('addVendor').addEventListener('change', function() {
            if (this.value) {
                addVendorCard(this.value);
                this.value = '';
            }
        });
        
        document.getElementById('scaleToggle').addEventListener('click', function(e) {
            if (e.target.classList.contains('toggle-btn')) {
                this.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                selectedScale = e.target.dataset.value;
                
                // Refresh vendor cards with new scale options using scale-specific defaults
                const currentVendors = activeVendors.map(v => v.vendor);
                document.getElementById('vendorCards').innerHTML = '';
                activeVendors = [];
                currentVendors.forEach(vendor => {
                    const configs = getConfigsForVendor(vendor, selectedScale);
                    if (configs.length > 0) {
                        const defaults = scaleDefaults[selectedScale]?.[vendor] || {};
                        const config = defaults.config || configs[configs.length - 1];
                        const tier = defaults.tier || null;
                        addVendorCard(vendor, config, tier);
                    }
                });
            }
        });
        
        document.getElementById('viewToggle').addEventListener('click', function(e) {
            if (e.target.classList.contains('toggle-btn')) {
                this.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                selectedView = e.target.dataset.value;
                updateChart();
            }
        });
        
        document.getElementById('logScaleToggle').addEventListener('click', function(e) {
            if (e.target.classList.contains('toggle-btn')) {
                this.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                useLogScale = e.target.dataset.value === 'log';
                updateChart();
            }
        });
        
        // Initialize
        initializeDefaults();
    </script>
    
    <script>
      if (window.self !== window.top) {
        // Aggressive continuous hiding
        function nukeHubSpot() {
          // Remove all HubSpot elements
          document.querySelectorAll('[id*="hubspot"], [class*="hubspot"], iframe[src*="hubspot"]').forEach(el => {
            el.parentNode && el.parentNode.removeChild(el);
          });
          
          // Remove HubSpot scripts
          document.querySelectorAll('script[src*="hs-scripts"], script[src*="hubspot"]').forEach(script => {
            script.parentNode && script.parentNode.removeChild(script);
          });
        }
        
        // Run immediately and continuously
        nukeHubSpot();
        setInterval(nukeHubSpot, 100); // Check every 100ms
        
        // Also use MutationObserver
        new MutationObserver(nukeHubSpot).observe(document.documentElement, {
          childList: true,
          subtree: true
        });
      }
    </script>

    <style>
      /* Nuclear CSS option */
      [id*="hubspot"],
      [class*="hubspot"],
      iframe[src*="hubspot"] {
        display: none !important;
        visibility: hidden !important;
        pointer-events: none !important;
        position: absolute !important;
        left: -9999px !important;
      }
    </style>
</body>
</html>
